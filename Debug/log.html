<!-- 
    This code only for debuging purpose, dont add this to your project or link this page 
    for development purpose check data retived from database 
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sri Lanka Districts Map</title>
    <link rel="stylesheet" href="./css/styles.css" />
  </head>

  <body>
    <object id="map" type="image/svg+xml" data="./svg/lkmap.svg"></object>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Function to fetch data from the database
        function fetchData() {
          fetch("./get_districts.php")
            .then((response) => response.json())
            .then((data) => {
              console.log(data); // Log the fetched data to the console
              updateMapColors(data);
            })
            .catch((error) => {
              console.error("Error fetching data:", error);
            });
        }

        // Function to update the colors of the map districts
        function updateMapColors(data) {
          // ... (rest of the code remains the same)
        }

        // Fetch data and update map colors initially
        fetchData();

        // Set up an interval to update the data every 1 minute (or as required)
        // Remove this interval if you don't need periodic updates
        setInterval(fetchData, 60000); // 1 minute interval (60000 milliseconds)
      });
    </script>
  </body>
</html>
